{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rishabh/Desktop/Blog-Website-with-react-and-firebase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rishabh/Desktop/Blog-Website-with-react-and-firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rishabh/Desktop/Blog-Website-with-react-and-firebase/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{addDoc,collection}from'firebase/firestore';import{auth,db}from\"../firebase-config\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreatePost(_ref){var isAuth=_ref.isAuth;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postText=_useState4[0],setPostText=_useState4[1];var postCollectionRef=collection(db,\"posts\");var navigate=useNavigate();var createPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return addDoc(postCollectionRef,{title:title,postText:postText,author:{name:auth.currentUser.displayName,id:auth.currentUser.uid}});case 2:navigate(\"/\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function createPost(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(!isAuth){navigate(\"/login\");}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"createPostPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cpContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create a POST\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title..\",onChange:function onChange(e){setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Post :\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Post..\",onChange:function onChange(e){setPostText(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createPost,children:\"Submit Post\"})]})});}export default CreatePost;","map":{"version":3,"names":["React","useEffect","useState","addDoc","collection","auth","db","useNavigate","CreatePost","isAuth","title","setTitle","postText","setPostText","postCollectionRef","navigate","createPost","author","name","currentUser","displayName","id","uid","e","target","value"],"sources":["/Users/rishabh/Desktop/Blog-Website-with-react-and-firebase/src/pages/CreatePost.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { addDoc, collection } from 'firebase/firestore';\nimport { auth, db } from \"../firebase-config\";\nimport { useNavigate } from 'react-router-dom';\n\nfunction CreatePost({ isAuth }) {\n    const [title, setTitle] = useState(\"\");\n    const [postText, setPostText] = useState(\"\");\n\n    const postCollectionRef = collection(db,\"posts\");\n\n    let navigate = useNavigate();\n\n    const createPost = async ()=>{\n        await addDoc(postCollectionRef, {title, postText, author : {name : auth.currentUser.displayName , id: auth.currentUser.uid }})\n        navigate(\"/\");\n    }\n\n    useEffect(()=>{\n        if (!isAuth) {\n            navigate(\"/login\");\n        }\n    },[]);\n    return (\n        <div className=\"createPostPage\">\n            <div className=\"cpContainer\">\n                <h1>Create a POST</h1>\n                <div className=\"inputGp\">\n                    <label>Title :</label>\n                    <input type=\"text\" placeholder=\"Title..\" onChange={(e)=>{setTitle(e.target.value)}}/>\n                </div>\n                <div className=\"inputGp\">\n                    <label htmlFor=\"\">Post :</label>\n                    <textarea placeholder=\"Post..\" onChange={(e)=>{setPostText(e.target.value)}}></textarea>\n                </div>\n                <button onClick={createPost}>Submit Post</button>\n            </div>\n        </div>\n    ); \n}\n\nexport default CreatePost;"],"mappings":"mcAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,UAAU,KAAQ,oBAAoB,CACvD,OAASC,IAAI,CAAEC,EAAE,KAAQ,oBAAoB,CAC7C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,QAASC,WAAU,MAAa,IAAVC,OAAM,MAANA,MAAM,CACxB,cAA0BP,QAAQ,CAAC,EAAE,CAAC,wCAA/BQ,KAAK,eAAEC,QAAQ,eACtB,eAAgCT,QAAQ,CAAC,EAAE,CAAC,yCAArCU,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,kBAAiB,CAAGV,UAAU,CAACE,EAAE,CAAC,OAAO,CAAC,CAEhD,GAAIS,SAAQ,CAAGR,WAAW,EAAE,CAE5B,GAAMS,WAAU,6FAAG,2JACTb,OAAM,CAACW,iBAAiB,CAAE,CAACJ,KAAK,CAALA,KAAK,CAAEE,QAAQ,CAARA,QAAQ,CAAEK,MAAM,CAAG,CAACC,IAAI,CAAGb,IAAI,CAACc,WAAW,CAACC,WAAW,CAAGC,EAAE,CAAEhB,IAAI,CAACc,WAAW,CAACG,GAAI,CAAC,CAAC,CAAC,QAC9HP,QAAQ,CAAC,GAAG,CAAC,CAAC,sDACjB,kBAHKC,WAAU,2CAGf,CAEDf,SAAS,CAAC,UAAI,CACV,GAAI,CAACQ,MAAM,CAAE,CACTM,QAAQ,CAAC,QAAQ,CAAC,CACtB,CACJ,CAAC,CAAC,EAAE,CAAC,CACL,mBACI,YAAK,SAAS,CAAC,gBAAgB,uBAC3B,aAAK,SAAS,CAAC,aAAa,wBACxB,qCAAsB,cACtB,aAAK,SAAS,CAAC,SAAS,wBACpB,kCAAsB,cACtB,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAE,kBAACQ,CAAC,CAAG,CAACZ,QAAQ,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAE,EAAE,GACnF,cACN,aAAK,SAAS,CAAC,SAAS,wBACpB,cAAO,OAAO,CAAC,EAAE,oBAAe,cAChC,iBAAU,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAE,kBAACF,CAAC,CAAG,CAACV,WAAW,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAE,EAAY,GACtF,cACN,eAAQ,OAAO,CAAET,UAAW,yBAAqB,GAC/C,EACJ,CAEd,CAEA,cAAeR,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}